<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.124.1"><meta name=description content><meta name=author content="Nim Italia"><link rel=icon href=/images/favicon.png type=image/png><title>Nim per il frontend web: introduzione a Karax :: Nim Italia</title>
<link href=/css/nucleus.css?1713166541 rel=stylesheet><link href=/css/fontawesome-all.min.css?1713166541 rel=stylesheet><link href=/css/hybrid.css?1713166541 rel=stylesheet><link href=/css/featherlight.min.css?1713166541 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1713166541 rel=stylesheet><link href=/css/auto-complete.css?1713166541 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1713166541 rel=stylesheet><link href=/css/theme.css?1713166541 rel=stylesheet><link href=/css/tabs.css?1713166541 rel=stylesheet><link href=/css/hugo-theme.css?1713166541 rel=stylesheet><link href=/css/theme-yellow.css?1713166541 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1713166541></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/web/introduzione-karax/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/nimitalia.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1713166541></script><script type=text/javascript src=/js/auto-complete.js?1713166541></script><script type=text/javascript>var baseurl="https://nim-italia.github.io/"</script><script type=text/javascript src=/js/search.js?1713166541></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/web/ title="Sviluppo Web" class="dd-item
parent"><a href=/web/>Sviluppo Web</a><ul><li data-nav-id=/web/componenti-karax/ title="Nim per il frontend web: componenti Karax" class=dd-item><a href=/web/componenti-karax/>Nim per il frontend web: componenti Karax</a></li><li data-nav-id=/web/introduzione-karax/ title="Nim per il frontend web: introduzione a Karax" class="dd-item active"><a href=/web/introduzione-karax/>Nim per il frontend web: introduzione a Karax</a></li></ul></li><li data-nav-id=/embedded/ title=Embedded class=dd-item><a href=/embedded/>Embedded</a><ul><li data-nav-id=/embedded/pcf8574/ title=PCF8574 class=dd-item><a href=/embedded/pcf8574/>PCF8574</a></li><li data-nav-id=/embedded/raspberryrp2040/ title="Raspberry Pico RP2040" class=dd-item><a href=/embedded/raspberryrp2040/>Raspberry Pico RP2040</a></li><li data-nav-id=/embedded/ad5245/ title=Ad5245 class=dd-item><a href=/embedded/ad5245/>Ad5245</a></li><li data-nav-id=/embedded/display1602/ title=Display1602 class=dd-item><a href=/embedded/display1602/>Display1602</a></li></ul></li><li data-nav-id=/guide/ title=Guide class=dd-item><a href=/guide/>Guide</a><ul><li data-nav-id=/guide/strutture-dati-e-puntatori/ title="Alias, Strutture Dati, Puntatori e Riferimenti" class=dd-item><a href=/guide/strutture-dati-e-puntatori/>Alias, Strutture Dati, Puntatori e Riferimenti</a></li><li data-nav-id=/guide/array_sequenze/ title="Array e Sequenze" class=dd-item><a href=/guide/array_sequenze/>Array e Sequenze</a></li><li data-nav-id=/guide/div_by_zero/ title="dividere per zero in Nim" class=dd-item><a href=/guide/div_by_zero/>dividere per zero in Nim</a></li><li data-nav-id=/guide/funzioni/ title=Funzioni class=dd-item><a href=/guide/funzioni/>Funzioni</a></li><li data-nav-id=/guide/manualino_nim/ title="Nim Manuale da Battaglia" class=dd-item><a href=/guide/manualino_nim/>Nim Manuale da Battaglia</a></li><li data-nav-id=/guide/var_let_const/ title="var, let e const" class=dd-item><a href=/guide/var_let_const/>var, let e const</a></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/nim-italia/nim-italia.github.io/edit/main/content/Web/introduzione-karax.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Home</a> > <a href=/web/>Sviluppo Web</a> > Nim per il frontend web: introduzione a Karax</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#introduzione>introduzione</a></li><li><a href=#primi-passi>primi passi</a></li><li><a href=#loop-e-condizioni>loop e condizioni</a></li><li><a href=#eventi-ed-interazioni>eventi ed interazioni</a></li><li><a href=#input-utente>input utente</a></li><li><a href=#link-per-approfondimenti>link per approfondimenti</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Nim per il frontend web: introduzione a Karax</h1><p><em><strong>Scritto da <a href=https://ilmanzo.github.io/>Andrea Manzini</a></strong></em></p><h3 id=introduzione>introduzione</h3><p><a href=https://github.com/karaxnim/karax>Karax</a> è un web framework che sfrutta il target <em>javascript</em> di Nim e un po&rsquo; come i software più famosi come React, Vue o Angular, ci permette di creare SPA (Single Page Applications) con il nostro linguaggio preferito, programmando quindi applicazioni web direttamente in Nim. La peculiarità di queste applicazioni è che vengono eseguite totalmente lato browser, per cui possono essere servite da un semplice file HTML statico.
Se invece utilizziamo Nim lato server, ad esempio in accoppiata con un framework backend, ad esempio <a href=https://github.com/dom96/jester>Jester</a> o <a href=https://github.com/planety/prologue>Prologue</a> possiamo gestire un completo full-stack per lo sviluppo web sempre usando lo stesso linguaggio.</p><p>Il <a href=https://play.nim-lang.org/>Nim Playground</a> e il <a href=https://forum.nim-lang.org/>Nim Forum</a> ad esempio sono scritti completamente in Nim.</p><p>L&rsquo;installazione di Karax è molto semplice, basta un</p><pre><code>nimble install karax
</code></pre><p>che, oltre alla libreria, ci mette anche a disposizione un comodo eseguibile per provare i nostri progetti, chiamato &lsquo;karun&rsquo;.</p><p>Questa semplice pagina non vuole essere una documentazione esaustiva ma un invito a provare questa tecnologia e contribuire con idee e lavori.</p><h3 id=primi-passi>primi passi</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=display:flex><span><span style=color:#f92672>include</span> karax<span style=color:#f92672>/</span>prelude        <span style=color:#75715e># scorciatoia per importare alcuni moduli karax tutti insieme</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>createDom</span>(): VNode <span style=color:#f92672>=</span>    <span style=color:#75715e># definisce una funzione che ritorna un nodo HTML</span>
</span></span><span style=display:flex><span>  buildHtml(p):              <span style=color:#75715e># crea un elemento di tipo &#34;paragrafo&#34;</span>
</span></span><span style=display:flex><span>    text <span style=color:#e6db74>&#34;Ciao da Karax!&#34;</span> <span style=color:#75715e># setta il testo nell&#39;elemento paragrafo</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setRenderer createDom        <span style=color:#75715e># indica a Karax quale funzione usare per renderizzare la pagina</span></span></span></code></pre></div><p>salviamo il file come <code>index.nim</code> e lanciamo il comando</p><pre><code>karun -r index.nim
</code></pre><p>il sorgente sarà compilato in javascript, inserito automaticamente in una pagina HTML che verrà servita da un piccolo webserver provvisorio. Contestualmente si aprirà la pagina web sul browser predefinito.</p><h3 id=loop-e-condizioni>loop e condizioni</h3><p>la funzione che viene invocata è codice Nim a tutti gli effetti, e quindi abbiamo a disposizione tutti i costrutti del linguaggio. Il DSL di Karax rende molto semplice scrivere cicli su collezioni e sequenze</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=display:flex><span><span style=color:#f92672>include</span> karax<span style=color:#f92672>/</span>prelude
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> list <span style=color:#f92672>=</span> <span style=color:#f92672>@[</span><span style=color:#e6db74>kstring&#34;Mela&#34;</span>, <span style=color:#e6db74>&#34;Arancia&#34;</span>, <span style=color:#e6db74>&#34;Banana&#34;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>createDom</span>(): VNode <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  buildHtml(tdiv):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> fruit <span style=color:#f92672>in</span> list:
</span></span><span style=display:flex><span>      p:
</span></span><span style=display:flex><span>        text fruit
</span></span><span style=display:flex><span>        text <span style=color:#e6db74>&#34; è un frutto&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setRenderer createDom</span></span></code></pre></div><h3 id=eventi-ed-interazioni>eventi ed interazioni</h3><p>Una SPA necessita di essere interattiva, reagendo agli input dell&rsquo;utente senza dover contattare il server e ricaricare tutto quanto ma solamente gli elementi che vengono modificati; Karax implementa un Virtual Dom per tenere traccia di cosa va ridisegnato. Come in javascript, possiamo associare codice da eseguire al verificarsi di un evento.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=display:flex><span><span style=color:#f92672>include</span> karax<span style=color:#f92672>/</span>prelude
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> algorithm
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> message <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Messaggio di prova&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>createDom</span>(): VNode <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  buildHtml(tdiv):
</span></span><span style=display:flex><span>    p:
</span></span><span style=display:flex><span>      text message
</span></span><span style=display:flex><span>    button:
</span></span><span style=display:flex><span>      text <span style=color:#e6db74>&#34;Clicca per rovesciare!&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>proc </span><span style=color:#a6e22e>onclick</span> <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>        message.reverse()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setRenderer createDom</span></span></code></pre></div><h3 id=input-utente>input utente</h3><p>In questo esempio vediamo l&rsquo;utilizzo del tipo <em>kstring</em> ; quando si compila con target js, è sinonimo di <em>cstring</em>, mentre con target nativo diventa <em>string</em>. Questo accorgimento è necessario perchè nei due linguaggi <a href=https://ssalewski.de/nimprogramming.html#_strings>i tipi stringa sono diversi</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=display:flex><span><span style=color:#f92672>include</span> karax<span style=color:#f92672>/</span>prelude
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> message <span style=color:#f92672>=</span> <span style=color:#e6db74>kstring&#34;Karax funziona&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>createDom</span>(): VNode <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  buildHtml(tdiv):
</span></span><span style=display:flex><span>    tdiv:
</span></span><span style=display:flex><span>      p:
</span></span><span style=display:flex><span>        text message
</span></span><span style=display:flex><span>    input(value <span style=color:#f92672>=</span> message):
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>proc </span><span style=color:#a6e22e>oninput</span>(e: Event, n: VNode) <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>        message <span style=color:#f92672>=</span> n.value
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setRenderer createDom</span></span></code></pre></div><p>osserviamo anche che per creare un elemento <code>&lt;DIV></code> dobbiamo usare <code>tdiv</code> perchè in nim la parola <code>div</code> è riservata all&rsquo;operatore di divisione.</p><p>Nella prossima parte vedremo come rendere modulare lo sviluppo sfruttando la possibilità di creare dei <strong>componenti</strong> autonomi e riusabili.</p><h3 id=link-per-approfondimenti>link per approfondimenti</h3><ul><li><a href=https://nim-lang.org/araq/karax.html>Blog post originale</a></li><li><a href=https://github.com/karaxnim/karax/blob/master/guide/Introduction.md>Karax Intro</a></li><li><a href=https://moigagoo.svbtle.com/exploring-karax>Exploring Karax</a></li><li><a href=https://arhamjain.com/2021/11/22/nim-webdev.html>Using Nim for Web Development in 2021</a></li></ul><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1713166541></script><script src=/js/perfect-scrollbar.min.js?1713166541></script><script src=/js/perfect-scrollbar.jquery.min.js?1713166541></script><script src=/js/jquery.sticky.js?1713166541></script><script src=/js/featherlight.min.js?1713166541></script><script src=/js/highlight.pack.js?1713166541></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1713166541></script><script src=/js/learn.js?1713166541></script><script src=/js/hugo-learn.js?1713166541></script><script src=/mermaid/mermaid.js?1713166541></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html>